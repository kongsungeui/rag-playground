name = "rag-playground"
compatibility_date = "2024-12-01"
pages_build_output_dir = ".vercel/output/static"

# D1 Database Binding
[[d1_databases]]
binding = "DB"
database_name = "rag-db"
database_id = "placeholder" # Will be replaced after creating D1 database

# Vectorize Index Binding
[[vectorize]]
binding = "VECTORIZE"
index_name = "rag-embeddings"

# R2 Bucket Binding for file storage
[[r2_buckets]]
binding = "FILES"
bucket_name = "rag-files"

# Environment Variables
[vars]
# OpenAI API key should be set as a secret:
# wrangler secret put OPENAI_API_KEY

# Node.js compatibility for Next.js
[build]
command = "npm run build"

# Compatibility flags for Cloudflare Pages
compatibility_flags = ["nodejs_compat"]
